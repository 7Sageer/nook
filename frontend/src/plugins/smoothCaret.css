/* ========== Smooth Caret Styles ========== */

/* CSS Variables for customization */
:root {
    --smooth-caret-color: #2563eb;
    --smooth-caret-width: 2px;
    --smooth-caret-blink-duration: 1s;
    --smooth-selection-color: rgba(37, 99, 235, 0.25);
}

/* Dark mode colors */
.app-container.dark {
    --smooth-caret-color: #60a5fa;
    --smooth-selection-color: rgba(96, 165, 250, 0.35);
}

/* Hide native caret when smooth caret is enabled */
.smooth-caret-enabled {
    caret-color: transparent !important;
}

/* Keep caret visible for native inputs inside the editor (e.g. bookmark URL input) */
.smooth-caret-enabled input,
.smooth-caret-enabled textarea {
    caret-color: auto !important;
}

/* Hide native selection when smooth selection is enabled */
.smooth-caret-enabled ::selection {
    background: transparent !important;
}

.smooth-caret-enabled ::-moz-selection {
    background: transparent !important;
}

/* Restore native selection styles for inputs/textareas */
.smooth-caret-enabled input::selection,
.smooth-caret-enabled textarea::selection {
    background: revert !important;
}

.smooth-caret-enabled input::-moz-selection,
.smooth-caret-enabled textarea::-moz-selection {
    background: revert !important;
}

/* Smooth caret element */
.smooth-caret {
    position: absolute;
    pointer-events: none;
    z-index: 1000;
    border-radius: 1px;
    will-change: top, left, height;
}

/* Smooth selection rectangle */
.smooth-selection-rect {
    position: absolute;
    pointer-events: none;
    z-index: 999;
    border-radius: 2px;
    will-change: top, left, width, height, opacity;
}

/* Blink animation */
@keyframes smoothCaretBlink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

.smooth-caret-blink {
    animation: smoothCaretBlink var(--smooth-caret-blink-duration) ease-in-out infinite;
}

/* Ensure BlockNote wrapper has proper positioning */
.bn-container {
    position: relative;
}

.bn-editor {
    position: relative;
}
