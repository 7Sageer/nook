/* ========== Editor Container ========== */
.editor-container {
    flex: 1;
    padding: var(--space-8) var(--editor-padding-x);
    /* Shadow moved to .main-content for full-height coverage */
    background-color: transparent;
}

/* Editor wrapper containing tags and BlockNote */
.editor-wrapper {
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* Tags area at top of editor */
.editor-tags-area {
    padding: 0 54px var(--space-3) 54px;
    flex-shrink: 0;
}

.editor-tags-area .editor-tag-container {
    justify-content: flex-start;
}

/* ========== BlockNote 编辑器样式覆盖 ========== */
.bn-editor {
    width: 100%;
}

/* 覆盖 BlockNote 的背景颜色，使其透明以继承父容器背景 */
.bn-container,
.bn-default-styles {
    --bn-colors-editor-background: transparent !important;
}

[data-mantine-color-scheme] {
    --mantine-color-body: transparent !important;
}

/* ========== 光标和选区动画 ========== */
/* ProseMirror 编辑器光标样式 */
.ProseMirror {
    caret-color: var(--primary);
}

.app-container.dark .ProseMirror {
    caret-color: #60a5fa;
}

/* 选区高亮平滑过渡 */
.ProseMirror ::selection {
    background-color: var(--primary-alpha-25);
    transition: background-color var(--transition-fast);
}

.ProseMirror .ProseMirror-selectednode::selection,
.ProseMirror .ProseMirror-selectednode *::selection {
    background-color: transparent;
    color: inherit;
}

/* 块级元素选中效果 */
.ProseMirror .bn-block-content {
    transition: background-color var(--transition-fast), box-shadow var(--transition-fast);
}

/* 输入时的平滑效果 */
.ProseMirror p,
.ProseMirror h1,
.ProseMirror h2,
.ProseMirror h3,
.ProseMirror li {
    transition: padding-left 0.1s ease;
}

/* ========== 搜索结果高亮 ========== */
/* 语义搜索跳转时的块高亮效果 */
.highlight-block {
    animation: highlight-fade 2s ease-out;
}

@keyframes highlight-fade {
    0% {
        background-color: var(--primary-alpha-25);
        box-shadow: 0 0 0 2px var(--primary-alpha-25);
    }

    100% {
        background-color: transparent;
        box-shadow: none;
    }
}
